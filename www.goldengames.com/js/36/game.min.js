var isFullscreen=!1,gameLayer=document.querySelector("#game-layer");"link"===gameLayer.dataset.type&&startGameInNewWindow();
"iframe"===gameLayer.dataset.type&&(isMobileDevice()?document.getElementById("play-game").addEventListener("click",startGameOnMobile):"1"===gameLayer.dataset.skipplay?setTimeout(function(){startGame()},1):"yes"===gameLayer.dataset.preroll?document.getElementById("play-game").addEventListener("click",startPrerollOnDesktop):document.getElementById("play-game").addEventListener("click",startGame));
function startGameInNewWindow(){document.getElementById("play-game").addEventListener("click",function(){window.open(gameLayer.dataset.src,"_blank").focus()})}function startGameOnMobile(){window.location.hash="play";prepareGameLayer();showIframeOnMobile();openBrowserFullscreen();addFullscreenCloseListener()}function startGame(){showIframe();console.log("Game started ..")}
function startPrerollOnDesktop(){document.getElementById("game_frame").innerHTML="";"function"===typeof showPreRoll?showPreRoll():startGame()}function goFullScreen(){preventScrolling();var a=document.querySelector("#div_iframe");a.style.position="fixed";a.style.zIndex="3";a.style.top="0";a.style.left="0";showCloseButton()}var icon_fullscreen=document.querySelector("#icon_fullscreen");icon_fullscreen&&icon_fullscreen.addEventListener("click",goFullScreen);
function endFullScreen(){activateScrolling();var a=document.querySelector("#div_iframe");a.style.position="relative";a.style.zIndex="1";document.querySelector("#close_button").style.display="none"}var cb=document.querySelector("#close_button");cb&&cb.addEventListener("click",endFullScreen);
function addFullscreenCloseListener(){document.addEventListener("fullscreenchange",fullscreenExitHandler,!1);document.addEventListener("mozfullscreenchange",fullscreenExitHandler,!1);document.addEventListener("MSFullscreenChange",fullscreenExitHandler,!1);document.addEventListener("webkitfullscreenchange",fullscreenExitHandler,!1)}
function prepareGameLayer(){var a=document.querySelector("#game-layer");a.style.height="100%";a.style.width="100%";a.style.top="0px";a.style.left="0px";a.style.position="fixed";a.style.zIndex="4";a.style.display="flex"}function closeGameLayer(){var a=document.querySelector("#game-layer");a.style.display="none";a.innerHTML="";activateScrolling();window.location.hash=""}window.onhashchange=function(){""===window.location.hash&&closeGameLayer()};
function showIframeOnMobile(){var a=document.querySelector("#game-layer"),b=a.dataset.sandbox?' sandbox="'+a.dataset.sandbox+'"':"";width=height="100%";a.innerHTML='<div id="div_iframe"><iframe src="'+a.dataset.src+'" id="iframe" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="'+a.dataset.scrolling+'" width="100vw" height="100vh"'+b+' allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" msallowfullscreen="true"></iframe></div>';document.querySelector("#iframe").focus()}
function showIframe(){var a=document.querySelector("#game-layer"),b=document.querySelector("#game_frame");document.querySelector("#game_tools").style.visibility="visible";b.innerHTML='<div id="div_iframe"><iframe src="'+a.dataset.src+'" id="iframe" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="'+a.dataset.scrolling+'" width="100%" height="100%"'+(a.dataset.sandbox?' sandbox="'+a.dataset.sandbox+'"':"")+(a.dataset.allow?' allow="'+a.dataset.allow+'"':"")+' allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" msallowfullscreen="true"></iframe></div>';
document.querySelector("#iframe").focus()}function showCloseButton(){var a=document.getElementById("close_button_txt"),b=document.getElementById("close_button");b.style.display="inline-block";a.style.visibility="visible";setTimeout(function(){a.style.visibility="hidden"},5E3);b.onmouseover=function(){a.style.visibility="visible"};b.onmouseout=function(){a.style.visibility="hidden"}}function hideCloseButton(){document.getElementById("close_button").style.display="none"}
function openBrowserFullscreen(){var a=document.getElementById("div_iframe");a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen();isFullscreen=!0}function closeBrowserFullscreen(){console.log(1);document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen();isFullscreen=!1}
function fullscreenExitHandler(){isFullscreen&&(!1===document.webkitIsFullScreen?closeGameLayer():!1===document.mozFullScreen?closeGameLayer():!1===document.msFullscreenElement&&closeGameLayer())}function loadJSON(a,b){var c=new XMLHttpRequest;c.overrideMimeType("application/json");c.open("GET.html",b,!0);c.onreadystatechange=function(){4===c.readyState&&200===c.status&&a(c.responseText)};c.send(null)}
function visVote(a){a=JSON.parse(a);vcounter=document.querySelectorAll(".rating-count");vcounter[0].innerHTML=a.votes;vcounter[1]&&(vcounter[1].innerHTML=a.votes);vrating=document.querySelectorAll(".rating");vrating[0].innerHTML=a.rating;vrating[1]&&(vrating[1].innerHTML=a.rating)}function vote(a,b){loadJSON(visVote,"https://www.silvergames.com/div/vote.php?v="+a+"&g="+b)}function unvote(a,b){loadJSON(visVote,"https://www.silvergames.com/div/vote.php?unvote=1&amp;v="+a+"&g="+b)}var voted=!1;
const c_default="#a0a0a0",c_active="#ffffff",thumbs=document.querySelector(".thumbs"),v_yes=document.querySelector("#t-up"),v_no=document.querySelector("#t-down"),v_yes_big=document.querySelector("#t-up-big"),v_no_big=document.querySelector("#t-down-big");
function setUpVoting(){const a=document.querySelector("#game-layer").dataset.id;"like"===thumbs.dataset.voted&&voteSetLike();"dislike"===thumbs.dataset.voted&&voteSetDislike();v_yes.addEventListener("click",function(){voted?("like"===voted?unvote("1",a):unvote("0",a),voteSetDefault()):(vote("1",a),voteSetLike())});v_no.addEventListener("click",function(){voted?("dislike"===voted?unvote("0",a):unvote("1",a),voteSetDefault()):(vote("0",a),voteSetDislike())});v_yes_big.addEventListener("click",function(){voted?
("like"===voted?unvote("1",a):unvote("0",a),voteSetDefault()):(vote("1",a),voteSetLike())});v_no_big.addEventListener("click",function(){voted?("dislike"===voted?unvote("0",a):unvote("1",a),voteSetDefault()):(vote("0",a),voteSetDislike())})}function voteSetDefault(){v_yes.style.fill=c_default;v_no.style.fill=c_default;v_yes_big.style.fill=c_default;v_no_big.style.fill=c_default;voted=!1}
function voteSetLike(){v_no.style.fill=c_default;v_yes.style.fill=c_active;v_no_big.style.fill=c_default;v_yes_big.style.fill=c_active;voted="like"}function voteSetDislike(){v_no.style.fill=c_active;v_yes.style.fill=c_default;v_no_big.style.fill=c_active;v_yes_big.style.fill=c_default;voted="dislike"}document.querySelector(".thumbs")&&setUpVoting();var gstat=document.getElementById("gstat");
gstat&&setTimeout(function(){gstat.innerHTML='<img src="/div/g.php?id='+gstat.dataset.id+'" style="display:none;" border="0" height="1" width="1 alt="">'},2E4);
function initScreenshots(){var a=document.getElementById("modal");const b=document.querySelectorAll(".shot");var c=document.getElementById("img01"),d=document.getElementById("caption"),e=document.querySelector("#wt-iframe");for(i=0;i<b.length;i++)b[i].onclick=function(b){b.preventDefault();a.style.display="block";c.src=this.dataset.surl;c.style.display="block";d.innerHTML=this.alt;d.style.display="block"};document.getElementsByClassName("close")[0].onclick=function(){a.style.display="none"};a.onclick=
function(){c.style.display="none";a.style.display="none";d.style.display="none";e.innerHTML=""}}document.getElementById("modal")&&initScreenshots();var wt=document.querySelector("#wt");
wt&&(wt.onclick=function(a){a.preventDefault();a=document.getElementById("modal");var b=document.getElementById("caption"),c=document.querySelector("#wt-iframe");a.style.display="block";b.innerHTML="Walkthrough";b.style.display="block";c.innerHTML='<iframe scrolling="no" frameborder="0" allowfullscreen="allowfullscreen" style="margin:0;padding:0;" width="800" height="500" src="'+c.dataset.src+'"></iframe>'});function preventScrolling(){document.body.style.overflow="hidden"}
function activateScrolling(){document.body.style.overflow="auto"}function loadMMOADs(){const a='<iframe src="/div/own.php?pos=r&f=160&l='+document.documentElement.lang+'" marginwidth="0" marginheight="0" scrolling="no" style="overflow:hidden;margin-left:10px " width="300" height="600"></iframe>';document.querySelector(".ad-300px").innerHTML=a}"desktop"===gameLayer.dataset.device&&isAdBlocker()&&loadMMOADs();
function isMobileDevice(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?1:0};